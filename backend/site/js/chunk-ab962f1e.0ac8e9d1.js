(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ab962f1e"],{"1f04":function(t,e,n){},"23a7":function(t,e,n){"use strict";var a=n("2909"),i=n("5530"),s=n("53ca"),r=(n("a9e3"),n("caad"),n("d81d"),n("b0c0"),n("99af"),n("a434"),n("159b"),n("fb6a"),n("5803"),n("2677")),o=n("3835"),c=(n("4de4"),n("8adc"),n("58df")),u=n("0789"),l=n("9d26"),h=n("a9ad"),d=n("4e82"),f=n("7560"),m=n("f2e7"),p=n("1c87"),g=n("af2b"),v=n("d9bd"),b=Object(c["a"])(h["a"],g["a"],p["a"],f["a"],Object(d["a"])("chipGroup"),Object(m["b"])("inputValue")).extend({name:"v-chip",props:{active:{type:Boolean,default:!0},activeClass:{type:String,default:function(){return this.chipGroup?this.chipGroup.activeClass:""}},close:Boolean,closeIcon:{type:String,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},disabled:Boolean,draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,outlined:Boolean,pill:Boolean,tag:{type:String,default:"span"},textColor:String,value:null},data:function(){return{proxyClass:"v-chip--active"}},computed:{classes:function(){return Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({"v-chip":!0},p["a"].options.computed.classes.call(this)),{},{"v-chip--clickable":this.isClickable,"v-chip--disabled":this.disabled,"v-chip--draggable":this.draggable,"v-chip--label":this.label,"v-chip--link":this.isLink,"v-chip--no-color":!this.color,"v-chip--outlined":this.outlined,"v-chip--pill":this.pill,"v-chip--removable":this.hasClose},this.themeClasses),this.sizeableClasses),this.groupClasses)},hasClose:function(){return Boolean(this.close)},isClickable:function(){return Boolean(p["a"].options.computed.isClickable.call(this)||this.chipGroup)}},created:function(){var t=this,e=[["outline","outlined"],["selected","input-value"],["value","active"],["@input","@active.sync"]];e.forEach((function(e){var n=Object(o["a"])(e,2),a=n[0],i=n[1];t.$attrs.hasOwnProperty(a)&&Object(v["a"])(a,i,t)}))},methods:{click:function(t){this.$emit("click",t),this.chipGroup&&this.toggle()},genFilter:function(){var t=[];return this.isActive&&t.push(this.$createElement(l["a"],{staticClass:"v-chip__filter",props:{left:!0}},this.filterIcon)),this.$createElement(u["b"],t)},genClose:function(){var t=this;return this.$createElement(l["a"],{staticClass:"v-chip__close",props:{right:!0,size:18},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.$emit("click:close"),t.$emit("update:active",!1)}}},this.closeIcon)},genContent:function(){return this.$createElement("span",{staticClass:"v-chip__content"},[this.filter&&this.genFilter(),this.$slots.default,this.hasClose&&this.genClose()])}},render:function(t){var e=[this.genContent()],n=this.generateRouteLink(),a=n.tag,s=n.data;s.attrs=Object(i["a"])(Object(i["a"])({},s.attrs),{},{draggable:this.draggable?"true":void 0,tabindex:this.chipGroup&&!this.disabled?0:s.attrs.tabindex}),s.directives.push({name:"show",value:this.active}),s=this.setBackgroundColor(this.color,s);var r=this.textColor||this.outlined&&this.color;return t(a,this.setTextColor(r,s),e)}}),y=n("80d2"),C=n("d9f7");e["a"]=r["a"].extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:function(t){return"boolean"===typeof t||[1e3,1024].includes(t)}},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:function(t){return Object(y["v"])(t).every((function(t){return null!=t&&"object"===Object(s["a"])(t)}))}}},computed:{classes:function(){return Object(i["a"])(Object(i["a"])({},r["a"].options.computed.classes.call(this)),{},{"v-file-input":!0})},computedCounterValue:function(){var t=this.multiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,t);var e=this.internalArrayValue.reduce((function(t,e){var n=e.size,a=void 0===n?0:n;return t+a}),0);return this.$vuetify.lang.t(this.counterSizeString,t,Object(y["n"])(e,1024===this.base))},internalArrayValue:function(){return Object(y["v"])(this.internalValue)},internalValue:{get:function(){return this.lazyValue},set:function(t){this.lazyValue=t,this.$emit("change",this.lazyValue)}},isDirty:function(){return this.internalArrayValue.length>0},isLabelActive:function(){return this.isDirty},text:function(){var t=this;return this.isDirty||!this.isFocused&&this.hasLabel?this.internalArrayValue.map((function(e){var n=e.name,a=void 0===n?"":n,i=e.size,s=void 0===i?0:i,r=t.truncateText(a);return t.showSize?"".concat(r," (").concat(Object(y["n"])(s,1024===t.base),")"):r})):[this.placeholder]},base:function(){return"boolean"!==typeof this.showSize?this.showSize:void 0},hasChips:function(){return this.chips||this.smallChips}},watch:{readonly:{handler:function(t){!0===t&&Object(v["b"])("readonly is not supported on <v-file-input>",this)},immediate:!0},value:function(t){var e=this.multiple?t:t?[t]:[];Object(y["h"])(e,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback:function(){this.internalValue=this.multiple?[]:null,this.$refs.input.value=""},genChips:function(){var t=this;return this.isDirty?this.text.map((function(e,n){return t.$createElement(b,{props:{small:t.smallChips},on:{"click:close":function(){var e=t.internalValue;e.splice(n,1),t.internalValue=e}}},[e])})):[]},genControl:function(){var t=r["a"].options.methods.genControl.call(this);return this.hideInput&&(t.data.style=Object(C["b"])(t.data.style,{display:"none"})),t},genInput:function(){var t=r["a"].options.methods.genInput.call(this);return t.data.attrs.multiple=this.multiple,delete t.data.domProps.value,delete t.data.on.input,t.data.on.change=this.onInput,[this.genSelections(),t]},genPrependSlot:function(){var t=this;if(!this.prependIcon)return null;var e=this.genIcon("prepend",(function(){t.$refs.input.click()}));return this.genSlot("prepend","outer",[e])},genSelectionText:function(){var t=this.text.length;return t<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,t)]},genSelections:function(){var t=this,e=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach((function(n,a){t.$scopedSlots.selection&&e.push(t.$scopedSlots.selection({text:t.text[a],file:n,index:a}))})):e.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},e)},genTextFieldSlot:function(){var t=this,e=r["a"].options.methods.genTextFieldSlot.call(this);return e.data.on=Object(i["a"])(Object(i["a"])({},e.data.on||{}),{},{click:function(){return t.$refs.input.click()}}),e},onInput:function(t){var e=Object(a["a"])(t.target.files||[]);this.internalValue=this.multiple?e:e[0],this.initialValue=this.internalValue},onKeyDown:function(t){this.$emit("keydown",t)},truncateText:function(t){if(t.length<Number(this.truncateLength))return t;var e=Math.floor((Number(this.truncateLength)-1)/2);return"".concat(t.slice(0,e),"â€¦").concat(t.slice(t.length-e))}}})},2677:function(t,e,n){"use strict";var a=n("8654");e["a"]=a["a"]},"2e92":function(t,e,n){},"3be1":function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return r})),n.d(e,"e",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return u}));n("99af");var a=n("4878"),i="/api/user/documents",s=function(t){return a["a"].get("".concat(i,"/").concat(t))},r=function(t,e){return a["a"].put("".concat(i,"/upload/").concat(t),e,{headers:{"Content-Type":"multipart/form-data"}})},o=function(t,e){return a["a"].put("".concat(i,"/updateowner/").concat(t),e)},c=function(t,e){return a["a"].patch("".concat(i,"/delete/").concat(t),e)},u=function(t,e){return a["a"].get("".concat(i,"/").concat(t,"/").concat(e))}},"4bd4":function(t,e,n){"use strict";var a=n("5530"),i=(n("caad"),n("2532"),n("07ac"),n("4de4"),n("159b"),n("7db0"),n("58df")),s=n("7e2b"),r=n("3206");e["a"]=Object(i["a"])(s["a"],Object(r["b"])("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var e=this,n=function(t){return t.$watch("hasError",(function(n){e.$set(e.errorBag,t._uid,n)}),{immediate:!0})},a={_uid:t._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?a.shouldValidate=t.$watch("shouldValidate",(function(i){i&&(e.errorBag.hasOwnProperty(t._uid)||(a.valid=n(t)))})):a.valid=n(t),a},validate:function(){return 0===this.inputs.filter((function(t){return!t.validate(!0)})).length},reset:function(){this.inputs.forEach((function(t){return t.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(t){return t.resetValidation()})),this.resetErrorBag()},register:function(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister:function(t){var e=this.inputs.find((function(e){return e._uid===t._uid}));if(e){var n=this.watchers.find((function(t){return t._uid===e._uid}));n&&(n.valid(),n.shouldValidate()),this.watchers=this.watchers.filter((function(t){return t._uid!==e._uid})),this.inputs=this.inputs.filter((function(t){return t._uid!==e._uid})),this.$delete(this.errorBag,e._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:Object(a["a"])({novalidate:!0},this.attrs$),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}})},5803:function(t,e,n){},"5fe2":function(t,e,n){"use strict";n("1f04")},"8adc":function(t,e,n){},be17:function(t,e,n){"use strict";n("2e92")},ff63:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:"",id:"account"}},[n("Menu",{attrs:{content:t.menu_content}}),n("v-container",[n("h1",[t._v("Settings")]),n("v-container",{staticClass:"mb-5 rounded-3",attrs:{fluid:"",id:"settings-container"}},[n("h3",{staticClass:"text-center"},[t._v("User")]),n("hr"),n("UserSettings",{on:{usernameUpdated:t.checkUsername}})],1),n("v-container",{staticClass:"mb-5 rounded-3",attrs:{fluid:"",id:"settings-container"}},[n("h3",[t._v("Documents")]),t._l(t.documents,(function(e){return n("div",{key:e.title},[n("DocumentEdit",{attrs:{documentName:e.title},on:{deleteDocument:t.removeDocument,updateDocument:t.updateDocument}})],1)}))],2)],1)],1)},i=[],s=(n("d81d"),n("99af"),n("c740"),n("4de4"),n("fb62")),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-row",{staticClass:"d-flex justify-center align-self-center",attrs:{dense:""}},[n("v-col",{attrs:{cols:"10"}},[n("v-text-field",{attrs:{dense:"",outlined:"",color:"white",dark:"","background-color":"rgb(48, 41, 41)","hide-details":"",readonly:""},model:{value:t.documentName,callback:function(e){t.documentName=e},expression:"documentName"}})],1),n("v-col",{staticClass:"d-flex justify-center align-self-center",attrs:{cols:"2"}},[n("v-btn",{attrs:{depressed:"",tile:"",color:"primary"},on:{click:function(e){return t.updateDocument()}}},[t._v("Rename")]),n("v-btn",{attrs:{depressed:"",tile:"",color:"error"},on:{click:function(e){return t.deleteDocument()}}},[t._v("Delete")])],1)],1)],1)},o=[],c={props:{documentName:String},methods:{deleteDocument:function(){this.$emit("deleteDocument",this.documentName)},updateDocument:function(){this.$emit("deleteDocument","Test")}}},u=c,l=n("2877"),h=n("6544"),d=n.n(h),f=n("8336"),m=n("62ad"),p=n("0fd9"),g=n("8654"),v=Object(l["a"])(u,r,o,!1,null,"738a5432",null),b=v.exports;d()(v,{VBtn:f["a"],VCol:m["a"],VRow:p["a"],VTextField:g["a"]});var y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"d-flex justify-space-around align-center",attrs:{fluid:""}},[n("v-col",{staticClass:"d-flex flex-column align-center",attrs:{cols:"3"}},[n("v-img",{staticClass:"mb-3",attrs:{id:"userImage",src:t.userPicture,height:"200",width:"200"}}),t.changeImageBtn.flag?t._e():n("v-file-input",{staticClass:"d-flex align-self-stretch",attrs:{accept:"image/*",dense:"",outlined:"",color:"black","background-color":"white"},model:{value:t.newUserPicture,callback:function(e){t.newUserPicture=e},expression:"newUserPicture"}}),n("v-row",{staticClass:"d-flex justify-center align-self-auto",attrs:{dense:""}},[n("v-col",{staticClass:"d-flex justify-center align-self-auto",attrs:{cols:"2"}},[n("v-btn",{staticClass:"mr-2",attrs:{rounded:"",block:"",small:"",disabled:!t.usernameReadOnly||null==t.newUserPicture&&!t.changeImageBtn.flag,color:t.changeImageBtn.color},on:{click:function(e){return t.changeImage()}}},[n("v-icon",{attrs:{left:""}},[t._v(" "+t._s(t.changeImageBtn.icon)+" ")]),t._v(t._s(t.changeImageBtn.title))],1),t.changeImageBtn.flag?t._e():n("v-btn",{attrs:{rounded:"",block:"",small:"",color:"error"},on:{click:function(e){return t.cancelChangeImage()}}},[n("v-icon",{attrs:{left:""}},[t._v(" mdi-close ")]),t._v("Cancel")],1)],1)],1)],1),n("v-col",{staticClass:"d-flex flex-column align-center",attrs:{cols:"7"}},[n("v-form",[n("v-text-field",{attrs:{dense:"",outlined:"",color:"black","background-color":"white",readonly:t.usernameReadOnly,"error-messages":t.errorMessage},model:{value:t.userText,callback:function(e){t.userText=e},expression:"userText"}}),n("v-container",{staticClass:"d-flex justify-space-between",attrs:{fluid:""}},[n("v-btn",{attrs:{small:"",color:"primary",disabled:t.usernameReadOnly},on:{click:function(e){return t.saveUser()}}},[n("v-icon",{attrs:{left:""}},[t._v(" mdi-content-save ")]),t._v("Save")],1),n("v-btn",{attrs:{small:"",color:"success",disabled:!t.usernameReadOnly||!t.changeImageBtn.flag},on:{click:function(e){t.usernameReadOnly=!t.usernameReadOnly}}},[n("v-icon",{attrs:{left:""}},[t._v(" mdi-pencil ")]),t._v("Edit")],1)],1)],1)],1)],1)},C=[],B=n("34c1"),x={data:function(){return{usernameReadOnly:!0,userText:"",userPicture:"",newUserPicture:null,errorMessage:"",changeImageBtn:{flag:!0,icon:"mdi-camera",title:"Change image",color:"normal"}}},methods:{saveUser:function(){var t=this;if(this.userText.length<5)return this.errorMessage="Min 5 characters",void setTimeout((function(){return t.errorMessage=""}),1500);var e=sessionStorage.getItem("username");e!=this.userText?(Object(B["c"])(e,{username:this.userText}).then((function(e){sessionStorage.setItem("username",e.data.username),t.usernameReadOnly=!t.usernameReadOnly,t.$emit("usernameUpdated")})).catch((function(e){return t.errorMessage=e.response.data.message})),setTimeout((function(){return t.errorMessage=""}),1500)):this.usernameReadOnly=!this.usernameReadOnly},changeImage:function(){if(this.changeImageBtn.flag=!this.changeImageBtn.flag,this.changeImageBtn.flag){var t=sessionStorage.getItem("username"),e=new FormData;e.append("picture",this.newUserPicture),Object(B["d"])(t,e).then((function(){return location.reload()})).catch((function(t){return console.log(t)}))}else this.changeImageBtn.icon="mdi-content-save",this.changeImageBtn.title="Save image",this.changeImageBtn.color="primary"},cancelChangeImage:function(){this.changeImageBtn.flag=!this.changeImageBtn.flag,this.changeImageBtn.flag?(this.changeImageBtn.icon="mdi-camera",this.changeImageBtn.title="Change image",this.changeImageBtn.color="normal"):(this.changeImageBtn.icon="mdi-content-save",this.changeImageBtn.title="Save image",this.changeImageBtn.color="primary")}},mounted:function(){var t=this,e=sessionStorage.getItem("username");Object(B["a"])(e).then((function(n){var a=n.data.picture;t.userText=n.data.username,t.userPicture="picture"==a?"/".concat(e,"/").concat(a):a})).catch((function(t){return console.error(t.response.data.message)}))}},I=x,_=(n("be17"),n("a523")),w=n("23a7"),S=n("4bd4"),O=n("132d"),$=n("adda"),j=Object(l["a"])(I,y,C,!1,null,"97a962ac",null),V=j.exports;d()(j,{VBtn:f["a"],VCol:m["a"],VContainer:_["a"],VFileInput:w["a"],VForm:S["a"],VIcon:O["a"],VImg:$["a"],VRow:p["a"],VTextField:g["a"]});var k=n("3be1"),D={components:{Menu:s["a"],UserSettings:V,DocumentEdit:b},data:function(){return{menu_content:{user:{picture:null,username:"User"},items:[{title:"Upload document",icon:"mdi-upload",path:"/documents/upload"},{title:"Admin panel",icon:"mdi-view-dashboard-outline",path:"/user/admin"}]},username:"",documents:[]}},methods:{checkUsername:function(){var t=this,e=sessionStorage.getItem("username");this.documents=this.documents.map((function(n){var a=n.file.substring(t.username.length+1);return n.file="/".concat(e).concat(a),n}));var n={owner:e,documents:this.documents};Object(k["e"])(this.username,n).then((function(e){return t.username=e.data.owner})).catch((function(t){return console.log(t)}))},removeDocument:function(t){var e=window.confirm("Are you sure that you want to delete this document?");if(e){var n=this.documents.findIndex((function(e){return e.title==t})),a=this.documents[n].file;this.documents=this.documents.filter((function(e){return e.title!=t}));var i={documents:this.documents,fileDeleted:a};Object(k["a"])(this.username,i)}},updateDocument:function(t){console.log(t)}},watch:{username:function(){var t=this;Object(k["b"])(this.username).then((function(e){return t.documents=e.data})).catch((function(e){return t.documents=e.response.data}))}},created:function(){var t=this,e=sessionStorage.getItem("username");this.menu_content.user.username=e,Object(B["a"])(e).then((function(n){var a=n.data.picture;t.menu_content.user.picture="picture"==a?"/".concat(e,"/").concat(a):a})).catch((function(t){return console.error(t.message)})),this.username=e},beforeRouteEnter:function(t,e,n){null==sessionStorage.getItem("username")?n("/404"):n()}},z=D,T=(n("5fe2"),Object(l["a"])(z,a,i,!1,null,"0a71bb33",null));e["default"]=T.exports;d()(T,{VContainer:_["a"]})}}]);
//# sourceMappingURL=chunk-ab962f1e.0ac8e9d1.js.map